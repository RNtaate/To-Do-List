(()=>{"use strict";var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t='<form action="#" method="POST" class="category-form"><span class="close-form-btn">&times;</span><input type="text" placeholder="Enter name of category" name="categoryName" required value="'+e+'"><input type="submit"></form>';return t};const t=function(e,t,n,r,a){var i=e,o=n,s=r,l=a;return{getTaskTitle:function(){return i},getTaskCat:function(){return l},setTaskCat:function(e){l=e},getPriority:function(){return s},getTaskDate:function(){return o}}};function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r,a=document.querySelector("body"),i=[],o=[],s=document.querySelector(".left-pane-div"),l=document.querySelector(".right-pane-div"),c=t("Dummy Task",0,"2020/12/30","high","Uncategorised"),d=t("Reading Task",0,"2020/12/30","low","Reading");o.push(c),o.push(d),s.innerHTML='<ul><li class="outer-list-items"><span>All</span></li><li class="outer-list-items category-list"><span>Categories<i class="fa fa-caret-down"></i></span><ul class="inner-item-list"></ul></li></ul><div class="category-btns"><button class="new-category-btn">Create New Category</button><div class="edit-delete-category-div"><button class="edit-category-btn">Edit Category</button><button class="delete-category-btn">Delete Category</button></div></div>';for(var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=document.querySelector(".tasks-list");t.innerHTML="";for(var n=document.querySelector(".inner-right-section-div"),r=0;r<e.length;r+=1){var a=document.createElement("li");a.classList.add("task-list-item"),a.classList.add(e[r].getPriority());var i=document.createElement("h3");i.textContent=e[r].getTaskTitle();var o=document.createElement("span");o.textContent="Due Date: "+e[r].getTaskDate(),a.appendChild(i),a.appendChild(o),t.appendChild(a)}n.style.display="block"},y=function(){for(var e=document.querySelectorAll(".inner-list-items"),t=0;t<e.length;t+=1)e[t].addEventListener("click",(function(e){for(var t=document.querySelectorAll(".inner-list-items"),n=0;n<t.length;n+=1)t[n].classList.remove("inner-list-items-active");e.target.classList.add("inner-list-items-active"),document.querySelector(".edit-delete-category-div").style.display="flex",document.querySelector(".no-category-selected").style.display="none",document.querySelector(".category-heading").textContent=e.target.textContent;var r=o.filter((function(t){return t.getTaskCat().toLowerCase()===e.target.textContent.toLowerCase()}));u(r)}))},m=document.querySelectorAll(".outer-list-items > span"),v=0;v<m.length;v+=1)m[v].addEventListener("click",(function(e){for(var t=document.querySelectorAll(".outer-list-items > span"),n=0;n<t.length;n+=1)t[n].classList.remove("outer-active");switch(e.target.classList.add("outer-active"),e.target.textContent){case"All":document.querySelector(".inner-item-list").classList.remove("appear");var r=document.querySelector(".selected"),a=document.querySelector(".inner-list-items-active");document.querySelector(".edit-delete-category-div").style.display="none",document.querySelector(".no-category-selected").style.display="none",document.querySelector(".category-heading").textContent=e.target.textContent,null!=r&&r.classList.remove("selected"),null!=a&&a.classList.remove("inner-list-items-active"),u(o);break;case"Categories":document.querySelector(".inner-item-list").classList.toggle("appear"),e.target.children[0].classList.toggle("selected"),y()}}));var g=document.querySelector(".new-category-btn");console.log(g.textContent);var p=document.createElement("div");p.classList.add("category-form-div"),a.appendChild(p);var f=function(e){var t=function(e){var t=e;return{getName:function(){return t},setName:function(e){t=e}}}(e);i.push(t);var n=document.createElement("li");n.classList.add("inner-list-items"),n.textContent=t.getName(),document.querySelector(".inner-item-list").appendChild(n)};f("Uncategorised"),f("Reading");var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r=document.querySelector(".category-form"),document.querySelector(".close-form-btn").addEventListener("click",(function(e){document.querySelector(".category-form-div").style.visibility="hidden",document.querySelector(".category-form-div").style.opacity="0"})),r.addEventListener("submit",(function(t){var n=r.elements[0].value;if(null===e)f(n);else{for(var a=0;a<i.length;a+=1)if(i[a].getName()===e.textContent){i[a].setName(r.elements[0].value);var s=document.querySelector(".category-heading");s.textContent===e.textContent&&(s.textContent=r.elements[0].value);break}for(var l=0;l<o.length;l+=1)o[l].getTaskCat()===e.textContent&&o[l].setTaskCat(r.elements[0].value);e.textContent=r.elements[0].value}r.reset(),document.querySelector(".category-form-div").style.visibility="hidden",document.querySelector(".category-form-div").style.opacity="0",y(),t.preventDefault()}))};g.addEventListener("click",(function(){var t=document.querySelector(".category-form-div");t.innerHTML=e(),h(),t.style.visibility="visible",t.style.opacity=1})),document.querySelector(".edit-category-btn").addEventListener("click",(function(){var t=document.querySelector(".inner-list-items-active"),n=document.querySelector(".category-form-div");n.innerHTML=e(t.textContent),h(t),n.style.visibility="visible",n.style.opacity=1})),l.innerHTML='<section class="right-pane-upper-section"><div class="inner-right-section-div"><h2 class="category-heading"></h2><div class="category-tasks-div"><ul class="tasks-list"></ul><p class="note-par"><b>NOTE: </b>red is for high-priority, green is for medium-priority, blue is for low-priority</p></div></div><h2 class="no-category-selected">Select a Category or click "All" on your left to view created tasks here.</h2></section><button class="create-task-btn">Create new Task</button><section class="task-details-section"><button class="back-btn">Back</button><div class="task-details-div"><h2 class="task-heading"></h2><p class="task-description"></p><span class="task-date"></span><span class="task-category-name"></span><span class="task-priority"></span></div><div class="task-details-btns-div"><button class="edit-task">Edit task</button><button class="delete-task">Delete task</button></div></section>',document.querySelector(".create-task-btn").addEventListener("click",(function(e){var r=document.querySelector(".category-form-div");r.innerHTML=function(e){var t,n,r=document.createElement("div"),a=document.createElement("select");a.setAttribute("id","todoCategories");for(var i=0;i<e.length;i+=1){var o=document.createElement("option");o.setAttribute("value",e[i].getName()),o.textContent=(t=void 0,n=void 0,n=(t=(t=""+e[i].getName()).toLowerCase()).slice(0,1),t=n.toUpperCase()+t.slice(1)),a.appendChild(o)}return r.appendChild(a),'<form action="#" method="POST" class="category-form task-form"><span class="close-form-btn">&times;</span><input type="text" placeholder="Enter Task title" id="task-title" required><textarea placeholder="Describe your task here" rows="5" id="task-desc" required></textarea><label>Task due date : </label><input type="date" placeholder="Give it a due date" id="task-date" required><label>Task Priority: </label><span><input type="radio" name="priority" id="high" value="high"> High</span><span><input type="radio" name="priority" id="medium" value="medium"> Medium</span><span><input type="radio" name="priority" id="low" value="low" checked> Low</span>'+r.innerHTML+'<input type="submit"></form>'}(i),function(){document.querySelector(".close-form-btn").addEventListener("click",(function(e){document.querySelector(".category-form-div").style.visibility="hidden",document.querySelector(".category-form-div").style.opacity="0"}));var e=document.querySelector(".task-form");e.addEventListener("submit",(function(r){var a,i,s,l;console.log(e.elements.length);for(var c=function(t){switch(e.elements[t].id){case"task-title":var n=o.filter((function(n){return n.getTaskTitle().toLowerCase()===e.elements[t].value.toLowerCase()}));if(console.log(n.length),n.length>0)return document.querySelector(".category-form-div").style.visibility="hidden",document.querySelector(".category-form-div").style.opacity="0",r.preventDefault(),{v:alert("Task with that title is already taken, please enter a different task title")};a=e.elements[t].value;break;case"task-desc":e.elements[t].value;case"task-date":i=e.elements[t].value;case"high":case"medium":case"low":e.elements[t].checked&&(s=e.elements[t].value);break;case"todoCategories":l=e.elements[t].value}},d=0;d<e.elements.length;d+=1){var y=c(d);if("object"===n(y))return y.v}var m=t(a,0,i,s,l);if(o.push(m),"none"===document.querySelector(".no-category-selected").style.display){var v=document.querySelector(".inner-list-items-active");if(null==v)u(o);else{var g=o.filter((function(e){return e.getTaskCat().toLowerCase()==v.textContent.toLowerCase()}));u(g)}}document.querySelector(".category-form-div").style.visibility="hidden",document.querySelector(".category-form-div").style.opacity="0",r.preventDefault()}))}(),r.style.visibility="visible",r.style.opacity=1}))})();