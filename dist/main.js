(()=>{"use strict";var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t='<form action="#" method="POST" class="category-form"><span class="close-form-btn">&times;</span><input type="text" placeholder="Enter name of category" name="categoryName" required value="'+e+'"><input type="submit"></form>';return t};const t=function(e,t,n,r,o){var a=e,i=n,s=r,l=o;return{getTaskTitle:function(){return a},getTaskCat:function(){return l},setTaskCat:function(e){l=e},getPriority:function(){return s},getTaskDate:function(){return i}}};var n,r=document.querySelector("body"),o=[],a=[],i=document.querySelector(".left-pane-div"),s=document.querySelector(".right-pane-div"),l=t("Dummy Task",0,"2020/12/30","high","Uncategorised"),c=t("Reading Task",0,"2020/12/30","high","Reading");a.push(l),a.push(c),i.innerHTML='<ul><li class="outer-list-items"><span>All</span></li><li class="outer-list-items category-list"><span>Categories<i class="fa fa-caret-down"></i></span><ul class="inner-item-list"></ul></li></ul><div class="category-btns"><button class="new-category-btn">Create New Category</button><div class="edit-delete-category-div"><button class="edit-category-btn">Edit Category</button><button class="delete-category-btn">Delete Category</button></div></div>';for(var u=function(e){var t=document.querySelector(".tasks-list");t.innerHTML="";for(var n=0;n<e.length;n+=1){var r=document.createElement("li");r.classList.add("task-list-item"),r.classList.add(e[n].getPriority());var o=document.createElement("h3");o.textContent=e[n].getTaskTitle();var a=document.createElement("span");a.textContent=e[n].getTaskDate(),r.appendChild(o),r.appendChild(a),t.appendChild(r)}},d=function(){for(var e=document.querySelectorAll(".inner-list-items"),t=0;t<e.length;t+=1)e[t].addEventListener("click",(function(e){for(var t=document.querySelectorAll(".inner-list-items"),n=0;n<t.length;n+=1)t[n].classList.remove("inner-list-items-active");e.target.classList.add("inner-list-items-active"),document.querySelector(".edit-delete-category-div").style.display="flex",document.querySelector(".no-category-selected").style.display="none",document.querySelector(".category-heading").textContent=e.target.textContent;var r=a.filter((function(t){return t.getTaskCat().toLowerCase()===e.target.textContent.toLowerCase()}));u(r)}))},m=document.querySelectorAll(".outer-list-items > span"),y=0;y<m.length;y+=1)m[y].addEventListener("click",(function(e){for(var t=document.querySelectorAll(".outer-list-items > span"),n=0;n<t.length;n+=1)t[n].classList.remove("outer-active");switch(e.target.classList.add("outer-active"),e.target.textContent){case"All":document.querySelector(".inner-item-list").classList.remove("appear");var r=document.querySelector(".selected"),o=document.querySelector(".inner-list-items-active");document.querySelector(".edit-delete-category-div").style.display="none",document.querySelector(".no-category-selected").style.display="none",document.querySelector(".category-heading").textContent=e.target.textContent,null!=r&&r.classList.remove("selected"),null!=o&&o.classList.remove("inner-list-items-active"),u(a);break;case"Categories":document.querySelector(".inner-item-list").classList.toggle("appear"),e.target.children[0].classList.toggle("selected"),d()}}));var v=document.querySelector(".new-category-btn");console.log(v.textContent);var g=document.createElement("div");g.classList.add("category-form-div"),r.appendChild(g);var f=function(e){var t=function(e){var t=e;return{getName:function(){return t},setName:function(e){t=e}}}(e);o.push(t);var n=document.createElement("li");n.classList.add("inner-list-items"),n.textContent=t.getName(),document.querySelector(".inner-item-list").appendChild(n)};f("Uncategorised"),f("Reading");var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;n=document.querySelector(".category-form"),document.querySelector(".close-form-btn").addEventListener("click",(function(e){document.querySelector(".category-form-div").style.visibility="hidden",document.querySelector(".category-form-div").style.opacity="0"})),n.addEventListener("submit",(function(t){var r=n.elements[0].value;if(null===e)f(r);else{for(var i=0;i<o.length;i+=1)if(o[i].getName()===e.textContent){o[i].setName(n.elements[0].value);var s=document.querySelector(".category-heading");s.textContent===e.textContent&&(s.textContent=n.elements[0].value);break}for(var l=0;l<a.length;l+=1)a[l].getTaskCat()===e.textContent&&a[l].setTaskCat(n.elements[0].value);e.textContent=n.elements[0].value}n.reset(),document.querySelector(".category-form-div").style.visibility="hidden",document.querySelector(".category-form-div").style.opacity="0",d(),t.preventDefault()}))};v.addEventListener("click",(function(){var t=document.querySelector(".category-form-div");t.innerHTML=e(),p(),t.style.visibility="visible",t.style.opacity=1})),document.querySelector(".edit-category-btn").addEventListener("click",(function(){var t=document.querySelector(".inner-list-items-active"),n=document.querySelector(".category-form-div");n.innerHTML=e(t.textContent),p(t),n.style.visibility="visible",n.style.opacity=1})),s.innerHTML='<section class="right-pane-upper-section"><h2 class="category-heading"></h2><div class="category-tasks-div"><ul class="tasks-list"></ul></div><h2 class="no-category-selected">Select a Category or click "All" on your left to view created tasks here.</h2></section><button class="create-task-btn">Create new Task</button>'})();